fragment TaskFragment on Task {
    id
    tradingAccountID
    currency
    size
    cryptoCurrency
    cron
    nextExecutionTime
    isActive
    type
    params
    updatedAt
    createdAt
}

query GetTaskIndex($tradingAccountID: ID){
    taskIndex(tradingAccountID: $tradingAccountID){
        selectedTradingAccount {
            id
            name
            exchange
            ip
            identifier
            tasks {
                ...TaskFragment
            }
        }
        tradingAccounts {
            id
            name
            exchange
            ip
            identifier
            tasks {
                ...TaskFragment
            }
        }
    }
}
mutation CreateTask($tradingAccountID: ID!,
    $currency: String!,
    $size: Float!,
    $cryptoCurrency: String!,
    $days: String!,
    $hours: String!,
    $type: String!,
    $params: JSON,
){
    createTask(input: {
        tradingAccountID: $tradingAccountID
        currency: $currency
        size: $size
        cryptoCurrency: $cryptoCurrency
        days: $days
        hours: $hours
        type: $type
        params: $params
    }){
        ...TaskFragment
    }
}

mutation UpdateTask($id: ID!,
    $currency: String!,
    $size: Float!,
    $cryptoCurrency: String!,
    $days: String!,
    $hours: String!,
    $type: String!,
    $params: JSON,
    $isActive: Boolean!,
){
    updateTask(
        id: $id
        input: {
            currency: $currency
            size: $size
            cryptoCurrency: $cryptoCurrency
            days: $days
            hours: $hours
            type: $type
            params: $params
            isActive: $isActive
        }){
        ...TaskFragment
    }
}
